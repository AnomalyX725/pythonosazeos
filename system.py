import time
import os
import platform
import psutil
from datetime import datetime

def display_logo():
    """
    Wyświetla logo ASCII AzeLinux.
    """
    print("""
%%%%%%%%%%%%%%%%%%%%%%%%%%                                      
                        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                        
                        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                        
                        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                        
                        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                        
                        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                        
                        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                        
                        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                        
                        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                        
                        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                        
                        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                        
                        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                        
%%%%%%%%%%%%%%%%%%%%%%%%%%             %%%%%%%%%%%%%%%%%%%%%%%            %%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%             %%%%%%%%%%%%%%%%%%%%%%%             %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%             %%%%%%%%%%%%%%%%%%%%%%%             %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%             %%%%%%%%%%%%%%%%%%%%%%%             %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%             %%%%%%%%%%%%%%%%%%%%%%%             %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%             %%%%%%%%%%%%%%%%%%%%%%%             %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%  %%%%%%%%%%%%                     %%%%%%%%%%%%  %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%  %%%%%%%%%%%%                     %%%%%%%%%%%%  %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%  %%%%%%%%%%%%                     %%%%%%%%%%%%  %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%  %%%%%%%%%%%%                     %%%%%%%%%%%%  %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%  %%%%%%%%%%%%                     %%%%%%%%%%%%  %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%  %%%%%%%%%%%%                     %%%%%%%%%%%%  %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%  %%%%%%%%%%%%                     %%%%%%%%%%%%  %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%  %%%%%%%%%%%%                     %%%%%%%%%%%%  %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%  %%%%%%%%%%%%                     %%%%%%%%%%%%  %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%  %%%%%%%%%%%%                     %%%%%%%%%%%%  %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%  %%%%%%%%%%%%                     %%%%%%%%%%%%  %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%  %%%%%%%%%%%%                     %%%%%%%%%%%%  %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%  %%%%%%%%%%%%                     %%%%%%%%%%%%  %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%  %%%%%%%%%%%%                     %%%%%%%%%%%%  %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%                                                 %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%                                                 %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%                                                 %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%                                                 %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%                                                 %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%                                                 %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%                                                 %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%                                                 %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%                                                 %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%                                                 %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%                                                 %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%                                                 %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%                                                 %%%%%%%%%%%%%%%%%%%%%%%%%
    """)

def neofetch():
    """
    Wyświetla podstawowe informacje o systemie w stylu neofetch wraz z logo ASCII.
    """
    display_logo()  # Wyświetla logo
    print("\n=======================================")
    print(f"               ")
    print("=======================================\n")

    # Informacje o systemie operacyjnym
    system = platform.system()
    release = platform.release()
    version = platform.version()
    print(f"OS: AzeOS 0.1 Alpha")

    # Informacje o procesorze
    processor = platform.processor()
    print(f"CPU: {processor}")

    # Informacje o pamięci RAM
    ram = psutil.virtual_memory().total / (1024 ** 3)  # Konwersja na GB
    print(f"RAM: {ram:.2f} GB")

    # Informacje o nazwie hosta
    hostname = platform.node()
    print(f"Hostname: {hostname}")

    # Liczba dostępnych rdzeni procesora
    cores = os.cpu_count()
    print(f"CPU Cores: {cores}")

    print("\n=======================================\n")

def handle_command(command):
    """
    Obsługuje komendy użytkownika.
    """
    command = command.lower().strip()

    if command == "help":
        print("\nAvailable commands:")
        print(" - help: Display this help message.")
        print(" - info: Show system information.")
        print(" - logo: Display the AzeLinux logo.")
        print(" - neofetch: Display system details.")
        print(" - date: Display current date and time.")
        print(" - clear: Clear the terminal screen.")
        print(" - list: Show files in current directory.")
        print(" - shutdown: Simulate system shutdown.\n")
    
    elif command == "info":
        print("\nAzeOS")
        print("Version: 0.1 alpha")
        print("Powered by Python!")
        print("Developed by XennieS!.\n")
    
    elif command == "logo":
        display_logo()
    
    elif command == "neofetch":
        neofetch()  # Wywołanie funkcji neofetch
    
    elif command == "date":
        now = datetime.now()
        print(f"\nCurrent date and time: {now.strftime('%Y-%m-%d %H:%M:%S')}\n")
    
    elif command == "clear":
        os.system('cls' if os.name == 'nt' else 'clear')
        print("Screen cleared. Type 'help' for commands.")
    
    elif command == "list":
        files = os.listdir(".")
        print("\nFiles in current directory:")
        for file in files:
            print(f" - {file}")
        print()
    
    elif command == "shutdown" or command == "exit":
        print("\nShutting down the system... Goodbye!")
        exit()
    
    else:
        print(f"Unknown command: '{command}'. Type 'help' for a list of commands.\n")

def system_startup():
    """
    Inicjalizacja systemu i uruchamianie pętli obsługi komend.
    """
    hostname = platform.node()  # Pobranie nazwy hosta
    print(f"Welcome to AzeOS! Type 'help' to see available commands.")  # To powinno być tutaj
    while True:
        user_input = input(f"{hostname}> ")
        handle_command(user_input)

if __name__ == "__main__":
    system_startup()